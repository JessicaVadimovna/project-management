# Приложение для управления проектами

Это полнофункциональное приложение для управления проектами, предназначенное для управления задачами и досками. Оно имеет современный фронтенд, построенный на **React**, и бэкенд на **Go**, оба компонента можно развернуть через **Docker** с помощью одной команды `docker-compose`. Приложение позволяет пользователям создавать, просматривать, редактировать и организовывать задачи по доскам с помощью интерфейса перетаскивания, управления состоянием и надежной интеграции с API.

## Содержание

- [Особенности](#особенности)
- [Технологический стек](#технологический-стек)
- [Структура проекта](#структура-проекта)
- [Установка и настройка](#установка-и-настройка)
- [Запуск приложения](#запуск-приложения)
- [Юнит-тесты](#юнит-тесты)
- [Технические решения](#технические-решения)
- [Интеграция с API](#интеграция-с-api)

## Особенности

Приложение соответствует всем функциональным требованиям и предоставляет следующие возможности:

- **Управление задачами**:

  - Просмотр всех задач по проектам (`/issues`).
  - Создание задач через модальное окно, доступное из заголовка, списка задач или страниц досок.
  - Редактирование задач с предварительно заполненными формами (заголовок, описание, приоритет, статус, исполнитель, доска).
  - Фильтрация задач по статусу, доске, заголовку или исполнителю.
  - Переход из списка задач на доску с открытым модальным окном задачи.

- **Управление досками**:

  - Просмотр всех досок (`/boards`).
  - Просмотр конкретной доски (`/board/:id`) с задачами, организованными в колонки по статусу: **Бэклог**, **В процессе**, **Завершено**.
  - Перетаскивание задач для изменения их статуса без перезагрузки страницы.
  - Создание и редактирование задач прямо со страницы доски.

- **UI и UX**:

  - Адаптивный заголовок с навигацией по задачам, доскам и кнопкой "Создать задачу".
  - Модальное окно для создания и редактирования задач с сохранением черновика в `localStorage`.
  - Плавное перетаскивание с использованием библиотеки `@hello-pangea/dnd`.
  - Адаптивный дизайн с компонентами **Ant Design**.

- **Дополнительные функции**:
  - Отмена запросов при навигации по страницам с помощью `AbortSignal`.
  - Сохранение состояния для черновиков форм.
  - Обновления в реальном времени с **React Query** для выборки и кэширования данных.
  - Типобезопасный код с **TypeScript**.

## Технологический стек

### Фронтенд

- **Node.js**: v20
- **React**: v18.3.1
- **TypeScript**: v5.8.3 для безопасности типов
- **Vite**: v6.3.1 для быстрой сборки и разработки
- **React Router**: v6.30.0 для маршрутизации на стороне клиента
- **Ant Design**: v5.24.7 для UI-компонентов
- **React Query**: v5.74.4 для выборки и кэширования данных
- **Redux Toolkit**: v2.7.0 для управления состоянием
- **Axios**: v1.8.4 для HTTP-запросов
- **@hello-pangea/dnd**: v18.0.1 для перетаскивания
- **ESLint**: v8.57.0 с правилами Airbnb и Prettier для линтинга
- **Prettier**: v3.2.5 для форматирования кода

### Бэкенд

- **Go**: v1.24.1
- **SQLite**: для легковесного хранения данных
- **Docker**: для контейнеризации
- **Docker Compose**: для оркестрации контейнеров фронтенда и бэкенда

### Инструменты разработки

- **Docker**: для контейнеризированного развертывания
- **Make**: для упрощения команд сборки и запуска
- **Swagger**: для документации API (доступна по `http://127.0.0.1:8080/swagger/index.html`)

## Структура проекта

```plaintext
├── client/                     # Исходный код фронтенда
│   ├── src/                    # React-приложение
│   │   ├── api/                # Функции API-клиента (Axios)
│   │   ├── store/              # Redux-хранилище и срезы
│   │   ├── types/              # Определения типов TypeScript
│   │   ├── components/         # Многоразовые компоненты (например, Header, TaskModal)
│   │   ├── pages/              # Компоненты страниц (BoardPage, IssuesPage и т.д.)
│   │   ├── App.tsx             # Основной компонент приложения
│   │   └── index.css           # Глобальные стили
│   ├── vite.config.ts          # Конфигурация Vite
│   ├── tsconfig.json           # Конфигурация TypeScript
│   ├── package.json            # Зависимости фронтенда
│   └── Dockerfile              # Конфигурация Docker для фронтенда
├── server/                     # Исходный код бэкенда
│   ├── cmd/service/            # Основное Go-приложение
│   ├── go.mod                  # Зависимости Go-модуля
│   └── Dockerfile              # Конфигурация Docker для бэкенда
├── docker-compose.yml          # Конфигурация Docker Compose
├── README.md                   # Документация проекта
└── Makefile                    # Скрипты сборки и запуска
```

## Установка и настройка

### Необходимые условия

- **Docker**: Установите [Docker Desktop](https://www.docker.com/products/docker-desktop) для вашей платформы.
- **Docker Compose**: Включен в Docker Desktop.
- **Make**: Опционально, для запуска команд Makefile.
  - На Windows установите через Chocolatey:
    ```powershell
    choco install make
    ```
  - На Linux/macOS установите через менеджер пакетов (например, `sudo apt install make` или `brew install make`).

### Шаги установки

1. Клонируйте репозиторий:

   ```bash
   git clone https://github.com/your-username/project-management.git
   cd project-management
   ```

2. Убедитесь, что Docker работает:
   ```bash
   docker --version
   ```

## Запуск приложения

Приложение можно запустить одной командой с помощью Docker Compose, которая собирает и запускает контейнеры фронтенда и бэкенда.

### Использование Docker Compose

1. Соберите и запустите приложение:

   ```bash
   docker-compose up --build
   ```

2. Доступ к приложению:

   - Фронтенд: `http://localhost:3000`
   - Бэкенд API: `http://localhost:8080`
   - Документация API: `http://localhost:8080/swagger/index.html`

3. Остановка приложения:
   Нажмите `Ctrl+C` в терминале, затем удалите контейнеры:
   ```bash
   docker-compose down
   ```

### Альтернатива: Использование Make

Если у вас установлен Make, вы можете использовать команды из Makefile:

- Полный перезапуск (очистка, сборка, запуск):
  ```bash
  make initial-start
  ```
- Сборка Docker-образов:
  ```bash
  make build
  ```
- Запуск контейнеров:
  ```bash
  make run
  ```
- Остановка контейнеров:
  ```bash
  make stop
  ```
- Полная очистка (удаление контейнеров и образов):
  ```bash
  make clean-all
  ```

### Альтернатива: Локальный запуск бэкенда

Чтобы запустить бэкенд без Docker:

1. Установите Go: [golang.org/dl](https://golang.org/dl/)
2. Перейдите в директорию `server`:
   ```bash
   cd server
   ```
3. Запустите приложение:
   ```bash
   go run cmd/service/main.go
   ```

## Юнит-тесты

_Этот раздел будет обновлен с деталями о юнит-тестах после их реализации._

Проект настроен для поддержки юнит-тестирования с использованием фреймворков, таких как Jest или Vitest. Тесты будут охватывать:

- Функции API-клиента
- Срезы Redux
- Компоненты React
- Утилитарные функции

Для запуска тестов (после реализации):

```bash
cd client
npm test
```

## Технические решения

Следующие технологии были выбраны для соответствия требованиям и повышения эффективности разработки:

- **TypeScript**: Обеспечивает безопасность типов, уменьшая количество ошибок во время выполнения и улучшая поддерживаемость кода.
- **Vite**: Обеспечивает более быструю сборку и горячую замену модулей по сравнению с Webpack.
- **Ant Design**: Предоставляет надежную, настраиваемую библиотеку UI-компонентов с встроенной доступностью и адаптивным дизайном.
- **React Query**: Упрощает выборку, кэширование и синхронизацию данных с сервером, поддерживает отмену запросов.
- **Redux Toolkit**: Управляет глобальным состоянием для задач, досок, пользователей и состояния модальных окон с минимальным boilerplate-кодом.
- **Axios**: Предоставляет чистый API для HTTP-запросов с поддержкой отмены запросов через `AbortSignal`.
- **@hello-pangea/dnd**: Обеспечивает интуитивное перетаскивание для изменения статуса задач.
- **ESLint + Prettier**: Обеспечивает единообразный стиль кода и выявляет потенциальные проблемы на ранних этапах.
- **Docker Compose**: Упрощает развертывание, оркестрируя контейнеры фронтенда и бэкенда с помощью одной команды.

Эти решения обеспечивают баланс между производительностью, опытом разработчика и масштабируемостью, соответствуя требованиям проекта.

## Интеграция с API

Фронтенд взаимодействует с бэкендом API (расположенным в директории `server`) по адресу `http://127.0.0.1:8080/api/v1`. Основные endpoints включают:

- `GET /users`: Получение всех пользователей
- `GET /boards`: Получение всех досок
- `GET /tasks`: Получение всех задач
- `GET /boards/:id`: Получение задач для конкретной доски
- `POST /tasks/create`: Создание новой задачи
- `PUT /tasks/update/:id`: Обновление задачи
- `PUT /tasks/updateStatus/:id`: Обновление статуса задачи

Файл `api.ts` включает функции для сопоставления ответов сервера с типами на стороне клиента, обработки отмены запросов и нормализации данных (например, статус и приоритет).
